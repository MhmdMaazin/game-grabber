(()=>{var e={};e.id=967,e.ids=[967],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},6378:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>m,routeModule:()=>g,serverHooks:()=>w,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>c});var a={};r.r(a),r.d(a,{GET:()=>u});var s=r(2706),n=r(8203),i=r(5994),o=r(9187),p=r(5710);let l=new Map;async function u(){try{let e="all-giveaways",t=null,r=l.get(e);if(r&&Date.now()-r.timestamp<3e5&&(t=r.data),!t){let r=await fetch("https://www.gamerpower.com/api/giveaways",{headers:{"User-Agent":"Game Grabber Giveaway Tracker"}});if(!r.ok)throw Error(`GamerPower API error: ${r.status}`);let a=await r.json();t=p.nW.parse(a),l.set(e,{data:t,timestamp:Date.now()})}let a={totalGiveaways:t.length,totalValue:t.reduce((e,t)=>{let r=parseFloat(String(t.worth).replace("$","").replace("N/A","0"));return e+(isNaN(r)?0:r)},0),platforms:new Set(t.map(e=>String(e.platforms).split(", ")).flat()).size,newToday:t.filter(e=>{let t=new Date(e.published_date),r=new Date;return t.toDateString()===r.toDateString()}).length};return o.NextResponse.json(a,{headers:{"Access-Control-Allow-Origin":"*"}})}catch(e){return o.NextResponse.json({error:"Failed to fetch statistics",message:e?.message||"Unknown error"},{status:500})}}let g=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/stats/route",pathname:"/api/stats",filename:"route",bundlePath:"app/api/stats/route"},resolvedPagePath:"E:\\GameGrabber\\app\\api\\stats\\route.ts",nextConfigOutput:"",userland:a}),{workAsyncStorage:d,workUnitAsyncStorage:c,serverHooks:w}=g;function m(){return(0,i.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:c})}},6487:()=>{},8335:()=>{},5710:(e,t,r)=>{"use strict";r.d(t,{K_:()=>i,nW:()=>n,zd:()=>s});var a=r(379);let s=a.z.object({id:a.z.number(),title:a.z.string(),worth:a.z.string(),thumbnail:a.z.string(),image:a.z.string(),description:a.z.string(),instructions:a.z.string().optional(),open_giveaway_url:a.z.string().optional(),published_date:a.z.string(),type:a.z.string(),platforms:a.z.string(),end_date:a.z.string().nullable(),users:a.z.number(),status:a.z.string(),gamerpower_url:a.z.string(),open_giveaway:a.z.string().optional()}),n=a.z.array(s),i=a.z.object({platform:a.z.string().optional(),type:a.z.string().optional(),sort:a.z.enum(["date","value","popularity"]).optional(),search:a.z.string().optional()})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[989,452,379],()=>r(6378));module.exports=a})();