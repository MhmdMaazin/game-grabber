(()=>{var e={};e.id=334,e.ids=[334],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},8676:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o});var s=a(260),r=a(8203),i=a(5155),l=a.n(i),n=a(7292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o=["",{children:["trending",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6654)),"E:\\GameGrabber\\app\\trending\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,2987))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,7667))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,9611)),"E:\\GameGrabber\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,9384)),"E:\\GameGrabber\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,2987))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,7667))).default(e)],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\GameGrabber\\app\\trending\\page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/trending/page",pathname:"/trending",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9585:(e,t,a)=>{Promise.resolve().then(a.bind(a,6654))},8913:(e,t,a)=>{Promise.resolve().then(a.bind(a,658))},658:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(5512),r=a(3668),i=a(8009),l=a(4502),n=a(2088),d=a(3641),o=a(3190),c=a(1680);let x=(0,c.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),p=(0,c.A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),m=(0,c.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var h=a(4977),g=a(2726),u=a(4748);function b(){let[e,t]=(0,i.useState)("popularity"),{data:a=[],isLoading:c}=(0,r.I)({queryKey:["/api/giveaways"]}),{data:b,isLoading:y}=(0,r.I)({queryKey:["/api/stats"]}),f=a?[...a].sort((t,a)=>{if("popularity"===e)return a.users-t.users;if("value"!==e)return new Date(a.published_date).getTime()-new Date(t.published_date).getTime();{let e=parseFloat(t.worth.replace(/[^0-9.]/g,""))||0;return(parseFloat(a.worth.replace(/[^0-9.]/g,""))||0)-e}}):[];a&&a.length>0&&a.reduce((e,t)=>Math.max(e,t.users),0);let j=f.slice(0,12);return c||y?(0,s.jsxs)("div",{className:"min-h-screen bg-dark-bg",children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-gray-600 border-t-white rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Loading trending giveaways..."})]})})}),(0,s.jsx)(n.A,{})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-dark-bg",children:[(0,s.jsx)(l.A,{}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)("h1",{className:"text-3xl md:text-4xl text-white mb-4 flex items-center justify-center gap-3",children:[(0,s.jsx)(x,{className:"w-8 h-8"}),"TRENDING GIVEAWAYS"]}),(0,s.jsx)("p",{className:"text-gray-400 text-sm md:text-base max-w-2xl mx-auto",children:"Discover the most popular and valuable free games and content trending right now"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsx)(u.w,{className:"bg-dark-secondary",children:(0,s.jsxs)(o.Zp,{className:"bg-transparent border-0",children:[(0,s.jsx)(o.aR,{className:"pb-2",children:(0,s.jsxs)(o.ZB,{className:"text-gray-400 text-xs flex items-center gap-1",children:[(0,s.jsx)(p,{className:"w-3 h-3"}),"ACTIVE"]})}),(0,s.jsx)(o.Wu,{className:"pt-0",children:(0,s.jsx)("div",{className:"text-white text-lg font-bold",children:b?.totalGiveaways||0})})]})}),(0,s.jsx)(u.w,{className:"bg-dark-secondary",children:(0,s.jsxs)(o.Zp,{className:"bg-transparent border-0",children:[(0,s.jsx)(o.aR,{className:"pb-2",children:(0,s.jsxs)(o.ZB,{className:"text-gray-400 text-xs flex items-center gap-1",children:[(0,s.jsx)(m,{className:"w-3 h-3"}),"TOTAL VALUE"]})}),(0,s.jsx)(o.Wu,{className:"pt-0",children:(0,s.jsxs)("div",{className:"text-green-500 text-lg font-bold",children:["$",Math.round(b?.totalValue||0)]})})]})}),(0,s.jsx)(u.w,{className:"bg-dark-secondary",children:(0,s.jsxs)(o.Zp,{className:"bg-transparent border-0",children:[(0,s.jsx)(o.aR,{className:"pb-2",children:(0,s.jsxs)(o.ZB,{className:"text-gray-400 text-xs flex items-center gap-1",children:[(0,s.jsx)(h.A,{className:"w-3 h-3"}),"TOP PLATFORM"]})}),(0,s.jsx)(o.Wu,{className:"pt-0",children:(0,s.jsx)("div",{className:"text-white text-sm font-bold",children:b?.platforms&&Object.keys(b.platforms).length>0?Object.entries(b.platforms).reduce((e,t)=>e[1]>t[1]?e:t)[0].toUpperCase():"STEAM"})})]})}),(0,s.jsx)(u.w,{className:"bg-dark-secondary",children:(0,s.jsxs)(o.Zp,{className:"bg-transparent border-0",children:[(0,s.jsx)(o.aR,{className:"pb-2",children:(0,s.jsx)(o.ZB,{className:"text-gray-400 text-xs",children:"HOT TYPE"})}),(0,s.jsx)(o.Wu,{className:"pt-0",children:(0,s.jsx)("div",{className:"text-white text-sm font-bold",children:b?.types&&Object.keys(b.types).length>0?Object.entries(b.types).reduce((e,t)=>e[1]>t[1]?e:t)[0].toUpperCase():"GAME"})})]})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[(0,s.jsxs)(g.$,{onClick:()=>t("popularity"),className:`retro-button text-xs ${"popularity"===e?"bg-gray-600 text-white":"bg-transparent border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white"}`,"data-testid":"sort-popularity",children:[(0,s.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"MOST POPULAR"]}),(0,s.jsxs)(g.$,{onClick:()=>t("value"),className:`retro-button text-xs ${"value"===e?"bg-gray-600 text-white":"bg-transparent border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white"}`,"data-testid":"sort-value",children:[(0,s.jsx)(m,{className:"w-3 h-3 mr-1"}),"HIGHEST VALUE"]}),(0,s.jsxs)(g.$,{onClick:()=>t("date"),className:`retro-button text-xs ${"date"===e?"bg-gray-600 text-white":"bg-transparent border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white"}`,"data-testid":"sort-date",children:[(0,s.jsx)(x,{className:"w-3 h-3 mr-1"}),"NEWEST"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:j.map(e=>(0,s.jsx)(d.A,{giveaway:e},e.id))}),0===j.length&&(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-400",children:"No trending giveaways found at the moment."})})]}),(0,s.jsx)(n.A,{})]})}function y(){return(0,s.jsx)(b,{})}},3641:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(5512),r=a(6008),i=a(2726),l=a(4748);function n({giveaway:e}){let t=()=>{e.open_giveaway_url&&window.open(e.open_giveaway_url,"_blank","noopener,noreferrer")};return(0,s.jsx)(l.w,{className:"group cursor-pointer h-full",children:(0,s.jsxs)("div",{className:"bg-dark-secondary h-full flex flex-col",children:[(0,s.jsxs)(r.default,{href:`/giveaway/${e.id}`,className:"block flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden aspect-video",children:[(0,s.jsx)("img",{src:e.image||e.thumbnail,alt:e.title,className:"w-full h-full object-contain bg-gray-900 group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src="https://via.placeholder.com/400x300/1a1a1a/ffffff?text=No+Image"}}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:["N/A"!==e.worth&&"$0.00"!==e.worth&&(0,s.jsx)("div",{className:"bg-gray-600 text-white px-2 py-1 text-xs line-through",children:e.worth}),(0,s.jsx)("div",{className:"bg-green-500 text-white px-2 py-1 text-xs font-bold",children:"FREE"})]}),(0,s.jsx)("div",{className:`absolute top-2 left-2 px-2 py-1 text-xs ${(e=>{let t=e.toLowerCase();return t.includes("steam")||t.includes("epic")||t.includes("gog"),"bg-gray-600 text-white"})(e.platforms)}`,children:e.platforms.split(",")[0].trim().toUpperCase()})]}),(0,s.jsxs)("div",{className:"p-4 pb-2",children:[(0,s.jsx)("h3",{className:"text-white text-sm mb-2 truncate hover:text-gray-300 transition-colors","data-testid":`title-${e.id}`,children:e.title}),(0,s.jsx)("p",{className:"text-red-400 text-xs mb-3 line-clamp-2","data-testid":`description-${e.id}`,children:e.description}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs mb-3",children:[(0,s.jsx)("span",{className:"text-gray-300","data-testid":`type-${e.id}`,children:e.type}),(0,s.jsx)("span",{className:"text-red-400","data-testid":`end-date-${e.id}`,children:(e=>{if(!e||"N/A"===e)return"No expiration";let t=new Date(e),a=new Date,s=Math.ceil((t.getTime()-a.getTime())/864e5);return s<0?"Expired":0===s?"Ends today":1===s?"Ends tomorrow":s<7?`Ends in ${s} days`:`Ends ${t.toLocaleDateString()}`})(e.end_date)})]})]})]}),(0,s.jsx)("div",{className:"px-4 pb-4 mt-auto",children:(0,s.jsx)(i.$,{className:`w-full py-2 px-4 transition-colors retro-button text-xs ${(e.type.toLowerCase(),"bg-gray-700 text-white hover:bg-gray-600")}`,onClick:e=>{e.preventDefault(),e.stopPropagation(),t()},"data-testid":`button-claim-${e.id}`,children:"beta"===e.type.toLowerCase()?"JOIN BETA":"CLAIM NOW"})})]})})}},3190:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>n});var s=a(5512),r=a(8009),i=a(3691);let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let n=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},4977:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1680).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6654:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\GameGrabber\\\\app\\\\trending\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\GameGrabber\\app\\trending\\page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[989,320,990,668,164,658],()=>a(8676));module.exports=s})();