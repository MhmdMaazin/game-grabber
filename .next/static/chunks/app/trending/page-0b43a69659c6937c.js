(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{6047:(e,t,a)=>{Promise.resolve().then(a.bind(a,4564))},4564:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var s=a(5155),r=a(8629),l=a(2115),i=a(1982),n=a(2460),c=a(131),d=a(6716),o=a(7401);let x=(0,o.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),m=(0,o.A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),h=(0,o.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var p=a(2823),g=a(5540),u=a(7114);function y(){let[e,t]=(0,l.useState)("popularity"),{data:a=[],isLoading:o}=(0,r.I)({queryKey:["/api/giveaways"]}),{data:y,isLoading:N}=(0,r.I)({queryKey:["/api/stats"]}),b=a?[...a].sort((t,a)=>{if("popularity"===e)return a.users-t.users;if("value"!==e)return new Date(a.published_date).getTime()-new Date(t.published_date).getTime();{let e=parseFloat(t.worth.replace(/[^0-9.]/g,""))||0;return(parseFloat(a.worth.replace(/[^0-9.]/g,""))||0)-e}}):[];a&&a.length>0&&a.reduce((e,t)=>Math.max(e,t.users),0);let j=b.slice(0,12);return o||N?(0,s.jsxs)("div",{className:"min-h-screen bg-dark-bg",children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-gray-600 border-t-white rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Loading trending giveaways..."})]})})}),(0,s.jsx)(n.A,{})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-dark-bg",children:[(0,s.jsx)(i.A,{}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)("h1",{className:"text-3xl md:text-4xl text-white mb-4 flex items-center justify-center gap-3",children:[(0,s.jsx)(x,{className:"w-8 h-8"}),"TRENDING GIVEAWAYS"]}),(0,s.jsx)("p",{className:"text-gray-400 text-sm md:text-base max-w-2xl mx-auto",children:"Discover the most popular and valuable free games and content trending right now"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsx)(u.w,{className:"bg-dark-secondary",children:(0,s.jsxs)(d.Zp,{className:"bg-transparent border-0",children:[(0,s.jsx)(d.aR,{className:"pb-2",children:(0,s.jsxs)(d.ZB,{className:"text-gray-400 text-xs flex items-center gap-1",children:[(0,s.jsx)(m,{className:"w-3 h-3"}),"ACTIVE"]})}),(0,s.jsx)(d.Wu,{className:"pt-0",children:(0,s.jsx)("div",{className:"text-white text-lg font-bold",children:(null==y?void 0:y.totalGiveaways)||0})})]})}),(0,s.jsx)(u.w,{className:"bg-dark-secondary",children:(0,s.jsxs)(d.Zp,{className:"bg-transparent border-0",children:[(0,s.jsx)(d.aR,{className:"pb-2",children:(0,s.jsxs)(d.ZB,{className:"text-gray-400 text-xs flex items-center gap-1",children:[(0,s.jsx)(h,{className:"w-3 h-3"}),"TOTAL VALUE"]})}),(0,s.jsx)(d.Wu,{className:"pt-0",children:(0,s.jsxs)("div",{className:"text-green-500 text-lg font-bold",children:["$",Math.round((null==y?void 0:y.totalValue)||0)]})})]})}),(0,s.jsx)(u.w,{className:"bg-dark-secondary",children:(0,s.jsxs)(d.Zp,{className:"bg-transparent border-0",children:[(0,s.jsx)(d.aR,{className:"pb-2",children:(0,s.jsxs)(d.ZB,{className:"text-gray-400 text-xs flex items-center gap-1",children:[(0,s.jsx)(p.A,{className:"w-3 h-3"}),"TOP PLATFORM"]})}),(0,s.jsx)(d.Wu,{className:"pt-0",children:(0,s.jsx)("div",{className:"text-white text-sm font-bold",children:(null==y?void 0:y.platforms)&&Object.keys(y.platforms).length>0?Object.entries(y.platforms).reduce((e,t)=>e[1]>t[1]?e:t)[0].toUpperCase():"STEAM"})})]})}),(0,s.jsx)(u.w,{className:"bg-dark-secondary",children:(0,s.jsxs)(d.Zp,{className:"bg-transparent border-0",children:[(0,s.jsx)(d.aR,{className:"pb-2",children:(0,s.jsx)(d.ZB,{className:"text-gray-400 text-xs",children:"HOT TYPE"})}),(0,s.jsx)(d.Wu,{className:"pt-0",children:(0,s.jsx)("div",{className:"text-white text-sm font-bold",children:(null==y?void 0:y.types)&&Object.keys(y.types).length>0?Object.entries(y.types).reduce((e,t)=>e[1]>t[1]?e:t)[0].toUpperCase():"GAME"})})]})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[(0,s.jsxs)(g.$,{onClick:()=>t("popularity"),className:"retro-button text-xs ".concat("popularity"===e?"bg-gray-600 text-white":"bg-transparent border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white"),"data-testid":"sort-popularity",children:[(0,s.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"MOST POPULAR"]}),(0,s.jsxs)(g.$,{onClick:()=>t("value"),className:"retro-button text-xs ".concat("value"===e?"bg-gray-600 text-white":"bg-transparent border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white"),"data-testid":"sort-value",children:[(0,s.jsx)(h,{className:"w-3 h-3 mr-1"}),"HIGHEST VALUE"]}),(0,s.jsxs)(g.$,{onClick:()=>t("date"),className:"retro-button text-xs ".concat("date"===e?"bg-gray-600 text-white":"bg-transparent border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white"),"data-testid":"sort-date",children:[(0,s.jsx)(x,{className:"w-3 h-3 mr-1"}),"NEWEST"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:j.map(e=>(0,s.jsx)(c.A,{giveaway:e},e.id))}),0===j.length&&(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-400",children:"No trending giveaways found at the moment."})})]}),(0,s.jsx)(n.A,{})]})}function N(){return(0,s.jsx)(y,{})}},131:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(5155),r=a(7396),l=a(5540),i=a(7114);function n(e){let{giveaway:t}=e,a=()=>{t.open_giveaway_url&&window.open(t.open_giveaway_url,"_blank","noopener,noreferrer")};return(0,s.jsx)(i.w,{className:"group cursor-pointer h-full",children:(0,s.jsxs)("div",{className:"bg-dark-secondary h-full flex flex-col",children:[(0,s.jsxs)(r.default,{href:"/giveaway/".concat(t.id),className:"block flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden aspect-video",children:[(0,s.jsx)("img",{src:t.image||t.thumbnail,alt:t.title,className:"w-full h-full object-contain bg-gray-900 group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src="https://via.placeholder.com/400x300/1a1a1a/ffffff?text=No+Image"}}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:["N/A"!==t.worth&&"$0.00"!==t.worth&&(0,s.jsx)("div",{className:"bg-gray-600 text-white px-2 py-1 text-xs line-through",children:t.worth}),(0,s.jsx)("div",{className:"bg-green-500 text-white px-2 py-1 text-xs font-bold",children:"FREE"})]}),(0,s.jsx)("div",{className:"absolute top-2 left-2 px-2 py-1 text-xs ".concat((e=>{let t=e.toLowerCase();return t.includes("steam")||t.includes("epic")||t.includes("gog"),"bg-gray-600 text-white"})(t.platforms)),children:t.platforms.split(",")[0].trim().toUpperCase()})]}),(0,s.jsxs)("div",{className:"p-4 pb-2",children:[(0,s.jsx)("h3",{className:"text-white text-sm mb-2 truncate hover:text-gray-300 transition-colors","data-testid":"title-".concat(t.id),children:t.title}),(0,s.jsx)("p",{className:"text-red-400 text-xs mb-3 line-clamp-2","data-testid":"description-".concat(t.id),children:t.description}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs mb-3",children:[(0,s.jsx)("span",{className:"text-gray-300","data-testid":"type-".concat(t.id),children:t.type}),(0,s.jsx)("span",{className:"text-red-400","data-testid":"end-date-".concat(t.id),children:(e=>{if(!e||"N/A"===e)return"No expiration";let t=new Date(e),a=new Date,s=Math.ceil((t.getTime()-a.getTime())/864e5);return s<0?"Expired":0===s?"Ends today":1===s?"Ends tomorrow":s<7?"Ends in ".concat(s," days"):"Ends ".concat(t.toLocaleDateString())})(t.end_date)})]})]})]}),(0,s.jsx)("div",{className:"px-4 pb-4 mt-auto",children:(0,s.jsx)(l.$,{className:"w-full py-2 px-4 transition-colors retro-button text-xs ".concat((t.type.toLowerCase(),"bg-gray-700 text-white hover:bg-gray-600")),onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},"data-testid":"button-claim-".concat(t.id),children:"beta"===t.type.toLowerCase()?"JOIN BETA":"CLAIM NOW"})})]})})}},6716:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>n});var s=a(5155),r=a(2115),l=a(5957);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},2823:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7401).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[10,56,276,527,629,872,441,517,358],()=>t(6047)),_N_E=e.O()}]);